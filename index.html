<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
        <title>Ultradian7 Projects</title>
        <style>
            :root {
                --my-yellow: rgb(206, 186, 132);
                --my-dark-gray: rgb(31, 31, 31);
                --my-gray: rgb(70, 70, 70);
                --my-light-gray: rgb(100, 100, 100);
                --my-blue: rgb(143, 219, 251);
                --my-pink: rgb(196, 121, 209);
                --my-orange: rgb(255, 178, 102);
                --my-aqua: rgb(156, 236, 211);
                --my-green: rgb(95, 151, 92);
                color-scheme: only light;

                --hexagon-size: 60px; /* Initial hexagon size */
            }

            .ubuntu-mono-regular {
                font-family: "Ubuntu Mono", monospace;
                font-weight: 400;
                font-style: normal;
            }

            .ubuntu-mono-bold {
                font-family: "Ubuntu Mono", monospace;
                font-weight: 700;
                font-style: normal;
            }

            .ubuntu-mono-regular-italic {
                font-family: "Ubuntu Mono", monospace;
                font-weight: 400;
                font-style: italic;
            }

            .ubuntu-mono-bold-italic {
                font-family: "Ubuntu Mono", monospace;
                font-weight: 700;
                font-style: italic;
            }

            body {
                justify-content: center;
                align-items: center;
                display: flex;
                flex-direction: column;
                color: var(--my-yellow);
                padding: 25px;
                background-color: var(--my-dark-gray);
                gap: 10px;
                position: relative;
                z-index: 1;
                margin: 0;
            }

            .title {
                font-size: 25px;
            }

            .header {
                font-family: "Ubuntu Mono", monospace;
                font-weight: 700;
                font-style: normal;
                font-size: 55px;
                margin-bottom: 35px;
            }

            .column {
                gap: 20px;
                flex-direction: column;
            }

            .background {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: -1;
                overflow: hidden;
            }

            .entries-row {
                font-family: "Ubuntu Mono", monospace;
                font-weight: 400;
                font-style: normal;
                display: flex;
                flex-direction: row;
                flex-wrap: wrap;
                gap: 20px;
                justify-content: center;
                margin: 0; /* Reset any default margins */
                padding: 0; /* Reset any default padding */
                width: 100%; /* Ensure the container spans the full width */
                box-sizing: border-box; /* Ensure padding is accounted for */
            }

            .c3 {
                color: var(--my-blue);
            }

            .c2 {
                color: var(--my-orange);
            }

            .c1 {
                color: var(--my-pink);
            }

            a {
                color: var(--my-pink);
            }

            .entry {
                flex: 1 1 calc(30% - 20px);
                padding: 10px;
                border: 2px solid var(--my-yellow);
                border-radius: 10px;
                margin-bottom: 10px;
                color: var(--my-blue);
                line-height: 1.6;
                font-size: 18px;
                overflow: hidden;
                display: flex;
                flex-direction: column;
                box-sizing: border-box; /* Ensure padding and borders are included in the width */ 
            }

            @media (max-width: 1080px) {
                .entry {
                    flex: 1 1 calc(45% - 20px); /* Adjust for medium screens like tablets */
                }
            }

            @media (max-width: 768px) {
                .entry {
                    flex: 1 1 calc(90% - 20px); /* For smaller screens like mobile, cards take up more width */
                    /*font-size: 16px;  Slightly reduce font size */
                }
            }

            @media (max-width: 480px) {
                .entry {
                    flex: 1 1 calc(100% - 20px); /* For very small mobile screens, cards take up full width */
                    /*font-size: 14px;  Reduce font size further */
                }
            }

            footer {
                margin-top: 10px;
                border-top: 2px solid var(--my-yellow);
                width: 100%;
                text-align: center;
                color: var(--my-yellow);
                font-size: 18px;
                font-family: "Ubuntu Mono", monospace;
                font-weight: 400;
                font-style: normal;
            }

            footer a {
                color: var(--my-pink);
                text-decoration: none;
            }

            footer a:hover {
                text-decoration: underline;
            }
            .thumbnail-container {
                display: flex;
                overflow-x: auto;
                gap: 10px;
                margin-top: 10px;
                max-height: 220px;
                padding-bottom: 5px;
                scrollbar-width: thin;
                scrollbar-color: var(--my-yellow) transparent;
            }

            .thumbnail {
                height: 200px;
                flex: 0 0 200px;
                border-radius: 5px;
                object-fit: cover;
                object-position: top;
                cursor: pointer;
                transition: transform 0.3s;
            }

            /*.thumbnail:hover {
                transform: scale(1.1);
            }*/
            .thumbnail-container img {
                max-width: 200px;
                max-height: 200px;
            }

            .thumbnail-container::-webkit-scrollbar {
                height: 8px; /* Height of the scrollbar */
            }

            .thumbnail-container::-webkit-scrollbar-thumb {
                background-color: var(--my-yellow);
                border-radius: 10px;
            }

            .thumbnail-container::-webkit-scrollbar-track {
                background: transparent;
            }

            .modal {
                display: none; 
                position: fixed; 
                z-index: 1000; 
                padding-top: 100px; 
                left: 0;
                top: 0;
                width: 100%; 
                height: 100%; 
                background-color: rgba(0,0,0,0.9);
                justify-content: center;
                align-items: center; /* Center the content vertically */
                padding: 0; /* Remove any extra padding */
            }
            .modal-content {
                display: block;
                margin: auto;
                margin-top: 30px;
                max-width: 90%; /* Ensures the image fits within 90% of the viewport width */
                max-height: 90%; /* Ensures the image fits within 90% of the viewport height */
                width: auto; /* Auto width to maintain aspect ratio */
                height: auto; /* Auto height to maintain aspect ratio */
            }

            .close {
                position: absolute;
                top: 15px;
                right: 35px;
                color: #f1f1f1;
                font-size: 40px;
                font-weight: bold;
                cursor: pointer;
            }

        </style>
    </head>

    <div class="background">
        <svg-table></svg-table>
    </div>

    <body class="column">

        <div class="header">Ultradian<span class="c1">7</span><span class="c2"> Projects</span></div>
        <div class="entries-row">

            <div class="entry">     
                <a class="title" href="trees-of-normanby/web/index.html">Trees Of Normanby</a>
                <p>An interactive map of <a href="https://normanbyhall.co.uk">Normanby Park</a>, detailing notable trees for Android, iOS and Web. Using your devices GPS, the app dispays your current location on the map so you can use it while walking around the park. Work in progress, link directs to an early Web for authorised users. This is a third party app created in collaboration with park staff and is not currently supported by, or represent Normanby Hall Country Park or North Lincolnshire Council.</p>
                <div class="thumbnail-container">
                    <img src="images/ton-screenshot-1.jpg" alt="Trees Of Normanby Screenshot 1" class="thumbnail" onclick="openModal('images/ton-screenshot-1.jpg')">
                    <img src="images/ton-screenshot-2.jpg" alt="Trees Of Normanby Screenshot 2" class="thumbnail" onclick="openModal('images/ton-screenshot-2.jpg')">
                    <img src="images/ton-screenshot-3.jpg" alt="Trees Of Normanby Screenshot 3" class="thumbnail" onclick="openModal('images/ton-screenshot-3.jpg')">
                    <img src="images/ton-screenshot-4.jpg" alt="Trees Of Normanby Screenshot 4" class="thumbnail" onclick="openModal('images/ton-screenshot-4.jpg')">
                    <img src="images/ton-screenshot-5.jpg" alt="Trees Of Normanby Screenshot 5" class="thumbnail" onclick="openModal('images/ton-screenshot-5.jpg')">
                    <img src="images/ton-screenshot-6.jpg" alt="Trees Of Normanby Screenshot 6" class="thumbnail" onclick="openModal('images/ton-screenshot-6.jpg')">
                    <img src="images/ton-screenshot-7.jpg" alt="Trees Of Normanby Screenshot 7" class="thumbnail" onclick="openModal('images/ton-screenshot-7.jpg')">
                </div>
            </div>
            <div class="entry">
                <a class="title" href="valuesynth-web/index.html">ValueSynth</a>
                <p>A weird additive synthesizer that allows you to define the frequencies of all 128 MIDI notes and define harmonic ratios as decimals or fractions. WIP, the link directs to an early Web Assembly build. Written with <a href="https://cmajor.dev/">Cmajor</a>, has native and plugin counterparts. Features per harmonic amplitude modulation, playable tables to visualise note mappings, customizable value bank and explorer inspired by the Colundi value hunter allows you to build custom tunings, harmonics table shows you precise frequency of each harmonic of every note. On screen grid note controller, optional commands to program sounds.</p>
            </div>

            <div class="entry">
                <a class="title">freqToASCL</a>
                <p>Create Ableton .ascl scale files from a list of frequencies, assigns frequency hz values to note names so that they appear in the piano roll editor.</p>
            </div>

            <div class="entry">
                <a class="title">Gallery Video Player</a>
                <p>Gallery video player is an Android app which sets up the device as a video player for public spaces, so that users can only play and pause and not navigate away from the video. An optionl title screen image and be set, features an auto reset setting that will make the video reset to the title screen or first frame of the video. The app is currently being used in the Stubbs In The Stables display at Normanby Hall Country Park as part of The Anatomy Of The Horse, an exhibition celebrating the 300th birthday of anatomist and painter George Stubbs.</p>
            </div>

            <div class="entry">
                <a class="title" href="https://www.renoise.com/tools/modulation-device-presets">Renoise Tool:<br>Modulation Device Presets</a>
                <p>Adds support in <a href="https://www.renoise.com">Renoise</a> for Sample Modulation Device presets separately. As Renoise only support saving modulation devices in complete Modulation Sets .xrmo files, this tool extends functionality for users to save and load presets for individual devices, device chains or complete filter sections in new file types .xrmd, .xrmc or .xrmf, integrated to work consistently with native Renoise presets.</p>
            </div>

            <div class="entry">
                <a class="title">Renoise Tool:<br>FreqCtrl Magic Squares</a>
                <p>An on screen button controller for Renoise, designed for freqLab istruments but can be used universally. Optional note layouts inspired by <a href="https://en.wikipedia.org/wiki/Magic_square">magic squares</a> of historical mathematics, including more recent discoveries by the brilliant <a href="https://jain108academy.com/magic-square-discoveries/">Jain108</a>.</p>
            </div>

            <div class="entry">
                <a class="title" >Renoise Tool:<br>FreqScale</a>
                <p>A Renoise tool which allows you to create custom scales or tunings based on a list of frequencies.</p>
            </div>

            <div class="entry">
                <a class="title" >Renoise Tool:<br>FreqLab Instrument Creator</a>
                <p>Builds instruments by generating single cycle waveforms, user defines custom note frequencies for each sample and can generate and layer harmonics defined as decimal or fraction ratio. Supports importing Scala .scl files to insert octaves of frequencies with base note settings. It can auto generate phrases with pattern options, generate random set of frequencies from your pre set value bank. Settings for default sample options, automatically insert modulation devices.</p>
            </div>
            
            <div class="entry">
                <a class="title" >Renoise Tool:<br>FreqMath</a>
                <p>A calculator for nine types of frequency related calculations. Results can be used can be used to automatically set Renoise sample options and device parameters.</p>
            </div>

            <div class="entry">
                <a class="title" >Wave Generator</a>
                <p>A waveform generator built in Max/MSP, allows you to create custom waveforms in a vector style for precision. Generate and save a batch of waveforms from a list of frequencies.</p>
            </div>

            <div id="imageModal" class="modal" onclick="closeModal(event)">
                <span class="close" onclick="closeModal()">&times;</span>
                <img class="modal-content" id="modalImage">
            </div>



        </div>
        <footer>
            <p>Contact: <a href="mailto:contact@ultradian7.com">ultradian7@gmail.com</a></p>
        </footer>
        <script>
            class SVGTable extends HTMLElement {
                constructor() {
                    super();
                    this.attachShadow({ mode: "open" });
                    this.svgNamespace = "http://www.w3.org/2000/svg";
                    this.createTable();
                }

                createTable() {
                    const style = document.createElement("style");
                    style.textContent = `
                        svg {
                            width: 100%;
                            height: 100%;
                        }
                    `;

                    const svg = document.createElementNS(this.svgNamespace, "svg");
                    this.shadowRoot.appendChild(style);
                    this.shadowRoot.appendChild(svg);

                    // Create a table based on the screen size
                    this.updateTable();
                    window.addEventListener("resize", () => this.updateTable());
                    window.addEventListener("scroll", () => this.updateTable());
                }

                getCssVariable(variable) {
                    return getComputedStyle(document.documentElement).getPropertyValue(variable).trim();
                }

                drawTable(svg, rows, cols, cellSize) {
                    const strokeColor = this.getCssVariable("--my-gray");
                    const fillColor = this.getCssVariable("--my-dark-gray");

                    for (let row = 0; row < rows; row++) {
                        for (let col = 0; col < cols; col++) {
                            const hexagonGroup = this.createHexagonGroup(col, row, cellSize, strokeColor, fillColor);
                            svg.appendChild(hexagonGroup);
                        }
                    }
                }

                createHexagonGroup(col, row, size, strokeColor, fillColor) {
                    const group = document.createElementNS(this.svgNamespace, "g");
                    const hexagon = this.createHexagon(col, row, size, strokeColor, fillColor);
                    group.appendChild(hexagon);
                    return group;
                }

                createHexagon(col, row, size, strokeColor, fillColor) {
                    const points = this.calculateHexagonPoints(col, row, size);
                    const hexagon = document.createElementNS(this.svgNamespace, "polygon");
                    hexagon.setAttribute("points", points.join(" "));
                    hexagon.setAttribute("stroke", strokeColor);
                    hexagon.setAttribute("fill", fillColor);
                    return hexagon;
                }

                calculateHexagonPoints(col, row, size) {
                    const width = Math.sqrt(3) * size;
                    const height = 2 * size;
                    const xOffset = width * (col + 0.5 * (row % 2));
                    const yOffset = height * (3 / 4) * row;

                    return [
                        [xOffset + width / 2, yOffset],
                        [xOffset + width, yOffset + height / 4],
                        [xOffset + width, yOffset + 3 * height / 4],
                        [xOffset + width / 2, yOffset + height],
                        [xOffset, yOffset + 3 * height / 4],
                        [xOffset, yOffset + height / 4]
                    ];
                }

                // Method to update the table
                updateTable() {
                    const svg = this.shadowRoot.querySelector("svg");
                    // Clear existing SVG content
                    while (svg.firstChild) {
                        svg.removeChild(svg.firstChild);
                    }
                    // Get viewport size
                    const width = window.innerWidth;
                    const height = window.innerHeight;

                    // Get hexagon size from scroll position
                    const scrollPosition = window.scrollY;
                    const minSize = 30; // Minimum hexagon size
                    const maxSize = 55; // Maximum hexagon size
                    const cellSize = minSize + (maxSize - minSize) * (scrollPosition / (document.body.scrollHeight - window.innerHeight));

                    // Calculate number of rows and columns based on the viewport size
                    const cols = Math.ceil(width / (Math.sqrt(3) * cellSize));
                    const rows = Math.ceil(height / (1.5 * cellSize)) + 1;

                    // Draw new table
                    this.drawTable(svg, rows, cols, cellSize);
                }
            }

            function openModal(imageSrc) {
                document.getElementById("imageModal").style.display = "block";
                document.getElementById("modalImage").src = imageSrc;
            }

            function closeModal() {
                document.getElementById("imageModal").style.display = "none";
            }

            customElements.define("svg-table", SVGTable);
        </script>
    </body>
</html>
